<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>BBD - Escape</title>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel = "stylesheet" href ="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/half-slider.css" rel="stylesheet">
    <link href="css/popup.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">


</head>

<body background="img/Escape-Screen.jpg">

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
          
                <a class="navbar-brand" href="#"><img src="img/BBD-SoftwareDevelopment-White.png"></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->

            <!--
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                  <li class="dropdown">
                     <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sign in <b class="caret"></b></a>
                     <ul class="dropdown-menu" style="padding: 15px;min-width: 250px;">
                        <li>
                           <div class="row">
                              <div class="col-md-12">
                                 <form class="form" role="form" method="post" action="admin.html" accept-charset="UTF-8" id="login-nav">
                                    <div class="form-group">
                                       <label class="sr-only" for="usernameInput">Username</label>
                                       <input type="text" class="form-control" id="usernameInput" placeholder="Username" required>
                                    </div>
                                    <div class="form-group">
                                       <label class="sr-only" for="passwordInput">Password</label>
                                       <input type="password" class="form-control" id="passwordInput" placeholder="Password" required>
                                    </div>
                                    <div class="form-group">
                                       <button type="submit" class="btn btn-success btn-block">Sign in</button>
                                    </div>
                                 </form>
                              </div>
                           </div>
                        </li>
                        <li class="divider"></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
            <!-- ss -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Half Page Image Background Carousel Header -->
    <header id="myCarousel" class="carousel slide">
        <!-- Indicators -->
        <ol style = "position: inline; margin-top: 5px" class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for Slides -->
        <div class="carousel-inner">
            <div class="item active">

                <div class="row">
		          <h1 class="text-center"><text id="Presenter1Name">Presenter 1</text>: <text id="Presenter1Topic">Topic</h1>
                  <h2 class="text-center">Date: <text id="Presenter1Date"> Today</h2>
                      <h2 class="text-center"><text id="Presenter1Time"></h2>
                        <p class="text-center"><a href="#" class="btn btn-primary btn-lg" role="button"
                                                  data-toggle="modal" data-target="#vote-modal1">Vote and Comment</a></p>
	           </div>


            </div>
            <div class="item">

                <div class="row">
		          <h1 class="text-center"><text id="Presenter2Name">Presenter 2</text>: <text id="Presenter2Topic">Topic</h1>
                  <h2 class="text-center">Date: <text id="Presenter2Date"> Today</h2>
                      <h2 class="text-center"><text id="Presenter2Time"></h2>
                        <p class="text-center"><a href="#" class="btn btn-primary btn-lg" role="button"
                                                  data-toggle="modal" data-target="#vote-modal2">Vote and Comment</a></p>
	           </div>

            </div>

            <div class="item">

                <div class="row">
		          <h1 class="text-center"><text id="Presenter3Name">Presenter 3</text>: <text id="Presenter3Topic">Topic</h1>
                  <h2 class="text-center">Date: <text id="Presenter3Date"> Today</h2>
                      <h2 class="text-center"><text id="Presenter3Time"></h2>
                        <p class="text-center"><a href="#" class="btn btn-primary btn-lg" role="button"
                                                  data-toggle="modal" data-target="#vote-modal3">Vote and Comment</a></p>
	           </div>


            </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>

    </header>

    <!-- BEGIN Presenter 3 Form -->
<div class="modal fade" id="vote-modal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" align="center">
                    <img class="img-circle" id="img_logo" src="img/BBD-SoftwareDevelopment-White.png">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <!-- Begin # DIV Form -->
                <div id="div-forms">

                    <!-- Begin # Rate and Vote Form -->
                    <form id="submit-form1" method="post" action="">
                        <div class="modal-body">
                            <p class="statusMsg"></p>

                            <input type="hidden" id="Presenter1ID"  name="presenterid" value="" />


                            <div class="stars">
                            
                                    <input class="star star-5" id="star-5A" value="5" type="radio" name="star"/>
                                  
                                    <label class="star star-5" for="star-5A"></label>
                                
                                    <input class="star star-4" id="star-4A" value="4" type="radio" name="star"/>
                                
                                    <label class="star star-4" for="star-4A"></label>
                                
                                    <input class="star star-3" id="star-3A" value="3" type="radio" name="star"/>
                                
                                    <label class="star star-3" for="star-3A"></label>
                                
                                    <input class="star star-2" id="star-2A" value="2" type="radio" name="star"/>
                                
                                    <label class="star star-2" for="star-2A"></label>
                                
                                    <input class="star star-1" id="star-1A" value="1" type="radio" name="star"/>
                                
                                    <label style="position:fixed; left: 20px" class="star star-1" for="star-1A"></label>
                            </div>

                            <hr>
                            <label for="comment1" class="control-label">Your comment:</label>
                            <input id="comment1" name="comment1" class="form-control" type="text" placeholder="Give us your comment" required>
                            <label for="name1" class="control-label">Your name:</label>
                            <input id="name1" name="name1" value="" class="form-control" type="text" placeholder="Optionally enter your name to stand a chance to win">
                        </div>
                        <div class="modal-footer">
                            <div>
                                <button type="submit" name="submit" class="btn btn-primary submitBtn" onclick="submitPresenter1()">Send!</button>
                            </div>

                        </div>
                    </form>
                    <!-- End # Rate and Vote Form -->


                </div>
                <!-- End # DIV Form -->

            </div>
        </div>
    </div>
    <!-- END # Form -->

    <!-- BEGIN Presenter 2 Form -->
<div class="modal fade" id="vote-modal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" align="center">
                    <img class="img-circle" id="img_logo" src="img/BBD-SoftwareDevelopment-White.png">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <!-- Begin # DIV Form -->
                <div id="div-forms">

                    <!-- Begin # Rate and Vote Form -->
                    <form id="submit-form2" method="post" action="">
                        <div class="modal-body">
                            <p class="statusMsg"></p>

                            <input type="hidden" id="Presenter2ID"  name="presenterid" value="" />


                            <div  class="stars">
                             
                                    <input class="star star-5" id="star-5B" value="5" type="radio" name="star"/>
                                    
                                    <label class="star star-5" for="star-5B"></label>
                                
                                    <input class="star star-4" id="star-4B" value="4" type="radio" name="star"/>
                                
                                    <label class="star star-4" for="star-4B"></label>
                                
                                    <input class="star star-3" id="star-3B" value="3" type="radio" name="star"/>
                                
                                    <label class="star star-3" for="star-3B"></label>
                                
                                    <input class="star star-2" id="star-2B" value="2" type="radio" name="star"/>
                                     
                                    <label class="star star-2" for="star-2B"></label>
                                
                                    <input class="star star-1" id="star-1B" value="1" type="radio" name="star"/>
                                
                                    <label style="position:fixed; left: 20px" class="star star-1" for="star-1B"></label>
                                
                            </div>

                            <hr>
                            <label for="comment2" class="control-label">Your comment:</label>
                            <input id="comment2" name="comment2" class="form-control" type="text" placeholder="Give us your comment" required>
                            <label for="name2" class="control-label">Your name:</label>
                            <input id="name2" name="name2" class="form-control" type="text" placeholder="Optionally enter your name to stand a chance to win">
                        </div>
                        <div class="modal-footer">
                            <div>
                                <button type="submit" name="submit" class="btn btn-primary submitBtn" onclick="submitPresenter2()">Send!</button>
                            </div>

                        </div>
                    </form>
                    <!-- End # Rate and Vote Form -->


                </div>
                <!-- End # DIV Form -->

            </div>
        </div>
    </div>
    <!-- END # Form -->

    <!-- BEGIN Presenter 3 Form -->
<div class="modal fade" id="vote-modal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" align="center">
                    <img class="img-circle" id="img_logo" src="img/BBD-SoftwareDevelopment-White.png">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <!-- Begin # DIV Form -->
                <div id="div-forms">
                    

                    <!-- Begin # Rate and Vote Form -->
                    <form id="submit-form3" method="post" action="">
                        <div class="modal-body">
                            <p class="statusMsg"></p>

                            <input type="hidden" id="Presenter3ID"  name="presenterid" value="" />


                            <div class="stars">
                            
                                    <input class="star star-5" id="star-5C" value="5" type="radio" name="star"/>
                                  
                                    <label class="star star-5" for="star-5C"></label>
                                
                                    <input class="star star-4" id="star-4C" value="4" type="radio" name="star"/>
                                
                                    <label class="star star-4" for="star-4C"></label>
                                
                                    <input class="star star-3" id="star-3C" value="3" type="radio" name="star"/>
                                
                                    <label class="star star-3" for="star-3C"></label>
                                
                                    <input class="star star-2" id="star-2C" value="2" type="radio" name="star"/>
                                
                                    <label class="star star-2" for="star-2C"></label>
                                
                                    <input class="star star-1" id="star-1C" value="1" type="radio" name="star"/>
                                
                                    <label style="position:fixed; left: 20px" class="star star-1" for="star-1C"></label>
                            </div>

                            <hr>
                            <label for="comment3" class="control-label">Your comment:</label>
                            <input id="comment3" name="comment3" class="form-control" type="text" placeholder="Give us your comment" required>
                            <label for="name3" class="control-label">Your name:</label>
                            <input id="name3" name="name3" class="form-control" type="text" placeholder="Optionally enter your name to stand a chance to win">
                        </div>
                        <div class="modal-footer">
                            <div>
                                <button type="submit" name="submit" class="btn btn-primary submitBtn" onclick="submitPresenter3()">Send!</button>
                            </div>

                        </div>
                    </form>
                    <!-- End # Rate and Vote Form -->


                </div>
                <!-- End # DIV Form -->

            </div>
        </div>
    </div>
    <!-- END # Form -->



    <!-- Page Content -->
    <div id = "explain" class="container">

        <div class="row">
            <div class="col-lg-12">
                <h1>Get Involved!</h1>
                <p>Rate and comment on the speakers and stand a chance
                        to have your comment selected as the winner of our lucky draw.</p>
            </div>
        </div>

        <hr>



    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js">         
    </script>
                
                <script>
                    $('li').on('click', function(){
                        $('li').removeClass('active');
                        $('this').addClass('active');
                    })
                </script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>






   	<!-- Presenters -->

    <script>
    xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);

            var myObj = JSON.parse(newStr);
            document.getElementById("Presenter1Name").innerHTML = myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter1Topic").innerHTML = myObj.TOPIC;
            document.getElementById("Presenter1Date").innerHTML = myObj.START.split(" ")[0];
            document.getElementById("Presenter1Time").innerHTML = myObj.START.split(" ")[1] + "\t-\t"+  myObj.END.split(" ")[1];
            document.getElementById("Presenter1ID").value = myObj.PRESENTERID;
        }
    };
    xmlhttp.open("GET", "scripts/newComment.php", true);
    xmlhttp.send();
    </script>


	<script>
	xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("Presenter1Name").innerHTML = myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter1Topic").innerHTML = myObj.TOPIC;
            document.getElementById("Presenter1Date").innerHTML = myObj.START.split(" ")[0];
            document.getElementById("Presenter1Time").innerHTML = myObj.START.split(" ")[1] + "\t-\t"+  myObj.END.split(" ")[1];
            document.getElementById("Presenter1ID").value = myObj.PRESENTERID;
        }
    };
    xmlhttp.open("GET", "scripts/Presenter1.php", true);
    xmlhttp.send();
	</script>

	<script>
	xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("Presenter2Name").innerHTML = myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter2Topic").innerHTML = myObj.TOPIC;
            document.getElementById("Presenter2Date").innerHTML = myObj.START.split(" ")[0];
            document.getElementById("Presenter2Time").innerHTML = myObj.START.split(" ")[1] + "\t-\t"+  myObj.END.split(" ")[1];
            document.getElementById("Presenter2ID").value = myObj.PRESENTERID;
        }
    };
    xmlhttp.open("GET", "scripts/Presenter2.php", true);
    xmlhttp.send();
	</script>

	<script>
	xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("Presenter3Name").innerHTML = myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter3Topic").innerHTML = myObj.TOPIC;
            document.getElementById("Presenter3Date").innerHTML = myObj.START.split(" ")[0];
            document.getElementById("Presenter3Time").innerHTML = myObj.START.split(" ")[1] + "\t-\t"+  myObj.END.split(" ")[1];
            document.getElementById("Presenter3ID").value = myObj.PRESENTERID;
        }
    };
    xmlhttp.open("GET", "scripts/Presenter3.php", true);
    xmlhttp.send();
	</script>

    <script>
    var val = 0;
    var p1 = 0;
    var p2 = 0;
    var p3 = 0;

    xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {

        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr.length-1);
            var myObj = JSON.parse(newStr);
            var pid1 = myObj.PRESENTERID;
             p1 = pid1;

            xmlhttp1 = new XMLHttpRequest();
            xmlhttp1.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                 var tmpStr = this.responseText;
                 var newStr = tmpStr.substring(1, tmpStr.length-1);
                 var myObj = JSON.parse(newStr);
                 var pid2 = myObj.PRESENTERID;
                p2 = pid2;

                    xmlhttp2 = new XMLHttpRequest();
                    xmlhttp2.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            var tmpStr = this.responseText;
                            var newStr = tmpStr.substring(1, tmpStr.length-1);
                            var myObj = JSON.parse(newStr);
                            var pid3 = myObj.PRESENTERID;
                            p3 = pid3;


                            xmlhttp3 = new XMLHttpRequest();
                            xmlhttp3.onreadystatechange = function() {
                                if (this.readyState == 4 && this.status == 200) {
                                    var tmpStr = this.responseText;
                                    var newStr = tmpStr.substring(1, tmpStr.length-1);
                                    var myObj = JSON.parse(newStr);
                                    var current = myObj.PRESENTERID;
                                    val = current;


                                    if (val == p1) {
                                        val=0;
                                    } else if (val == p2) {
                                        val =1;
                                    } else {
                                        val =2;
                                    }

                                    $('.carousel').carousel(val)
                                }
                              };
                            xmlhttp3.open("GET", "scripts/currentPresenter.php", true);
                            xmlhttp3.send();

                        }
                   };
                   xmlhttp2.open("GET", "scripts/Presenter3.php", true);
                   xmlhttp2.send();


                 }
              };
           xmlhttp1.open("GET", "scripts/Presenter2.php", true);
           xmlhttp1.send();



            }
        };
    xmlhttp.open("GET", "scripts/Presenter1.php", true);
    xmlhttp.send();
    </script>
                
    <script>
        function submitPresenter1()
        {
            var reg = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
            var name = $('#name1').val();
            var comment = $('#comment1').val();
            var id = $("#Presenter1ID").val();
            var rating = $('input[name=star]:checked').val();
            $.ajax(
                    {
                        type:'POST',
                        url:'scripts/newComment.php',
                        data:'name='+name+'&star='+rating+'&comment='+comment+'&presenterid='+id,
            
                        beforeSend: function () {
                $('.submitBtn').attr("disabled","disabled");
                $('.modal-body').css('opacity', '.5');
            },
            success:function(msg)
                        {
                if(msg == 'ok'){
                    $('#name1').val('');
                    $('#comment1').val('');
                    $('input[name="star"]').attr('checked', false);
                    $('.statusMsg').html('<span style="color:green;">Thanks for the input! Check the BBD Twitter page to see if your comment features!</p>');
                }else{
                    $('.statusMsg').html('<span style="color:red;">Some problem occurred, please try again later.</span>');
                }
                $('.submitBtn').removeAttr("disabled");
                $('.modal-body').css('opacity', '');
            }
        });
    }
        
    
        
        function submitPresenter2()
        {
            var reg = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
            var name = $('#name2').val();
            var comment = $('#comment2').val();
            var id = $("#Presenter2ID").val();
            var rating = $('input[name=star]:checked').val();
            $.ajax(
                    {
                        type:'POST',
                        url:'scripts/newComment.php',
                        data:'name='+name+'&star='+rating+'&comment='+comment+'&presenterid='+id,
            
                        beforeSend: function () {
                $('.submitBtn').attr("disabled","disabled");
                $('.modal-body').css('opacity', '.5');
            },
            success:function(msg)
                        {
                if(msg == 'ok'){
                    $('#name2').val('');
                    $('#comment2').val('');
                    $('input[name="star"]').attr('checked', false);
                    $('.statusMsg').html('<span style="color:green;">Thanks for the input! Check the BBD Twitter page to see if your comment features!</p>');
                }else{
                    $('.statusMsg').html('<span style="color:red;">Some problem occurred, please try again later.</span>');
                }
                $('.submitBtn').removeAttr("disabled");
                $('.modal-body').css('opacity', '');
            }
        });
    }
        
        function submitPresenter3()
        {
            var reg = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
            var name = $('#name3').val();
            var comment = $('#comment3').val();
            var id = $("#Presenter3ID").val();
            var rating = $('input[name=star]:checked').val();
            $.ajax(
                    {
                        type:'POST',
                        url:'scripts/newComment.php',
                        data:'name='+name+'&star='+rating+'&comment='+comment+'&presenterid='+id,
            
                        beforeSend: function () {
                $('.submitBtn').attr("disabled","disabled");
                $('.modal-body').css('opacity', '.5');
            },
            success:function(msg)
                        {
                if(msg == 'ok'){
                    $('#name3').val('');
                    $('#comment3').val('');
                    $('input[name="star"]').attr('checked', false);
                    $('.statusMsg').html('<span style="color:green;">Thanks for the input! Check the BBD Twitter page to see if your comment features!</p>');
                }else{
                    $('.statusMsg').html('<span style="color:red;">Some problem occurred, please try again later.</span>');
                }
                $('.submitBtn').removeAttr("disabled");
                $('.modal-body').css('opacity', '');
            }
        });
    }

</script>
                
                <script>
                    $(document).ready(function() {
  $(".modal").on("hidden.bs.modal", function() {
    $(".statusMsg").html("");
  });
});
                </script>



</body>

</html>
