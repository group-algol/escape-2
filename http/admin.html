<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Escape - Admin</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/half-slider.css" rel="stylesheet">
    <link href="css/modal.css" rel="stylesheet">

    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">


</head>

<style>
/* The Modal (background) */
.popup {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    padding-top: 100px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.pop-content {
    position: relative;
    background-color: #fefefe;
    margin: auto;
    padding: 0;
    border: 1px solid #888;
    width: 80%;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
    -webkit-animation-name: animatetop;
    -webkit-animation-duration: 0.4s;
    animation-name: animatetop;
    animation-duration: 0.4s
}

/* Add Animation */
@-webkit-keyframes animatetop {
    from {top:-300px; opacity:0} 
    to {top:0; opacity:1}
}

@keyframes animatetop {
    from {top:-300px; opacity:0}
    to {top:0; opacity:1}
}

/* The Close Button */
.popclose {
    color: white;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.popclose:hover,
.popclose:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}

.pop-header {
    padding: 2px 16px;
    background-color: #5cb85c;
    color: white;
}

.pop-body {
    padding: 2px 16px;
    color: black;
    font-size: 18px;
}

.pop-footer {
    padding: 2px 16px;
    background-color: #5cb85c;
    color: white;
}
</style>
    
<style>
.dropbtn {
    background-color: #337ab7;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown-content a:hover {background-color: #f1f1f1}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown:hover .dropbtn {
    background-color: #286090;
}
</style>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <a class="navbar-brand" href="#"><img src="img/BBD-SoftwareDevelopment-White.png"></a>
            </div>

        </div>
        <!-- /.container -->
    </nav>





    <!-- Page Content -->
    <div class="container">

        <div class="row">
            <div class="col-lg-12">
                <p class="text-center"><a href="#" class="btn btn-primary btn-lg" role="button"
                                                  data-toggle="modal" data-target="#addpresenter-modal">Add Presenter</a></p>
            </div>
            <div class="col-lg-12">
                <p class="text-center"><a href="#" class="btn btn-primary btn-lg" role="button"
                                                  data-toggle="modal" data-target="#managepresenter-modal">Manage Presenters</a></p>
            </div>
			<div class="col-lg-12">
                <p class="text-center"><a href="#" class="btn btn-primary btn-lg" role="button"
                                                  data-toggle="modal" data-target="#deletepresenter-modal">Delete Presenters</a></p>
            </div>
            <div class="col-lg-12">
                <p class="text-center"><a href="#" class="btn btn-primary btn-lg" role="button"
                                                  data-toggle="modal" data-target="#winner-modal">Tweet Winner</a></p>
            </div>
            <div class="col-lg-12">
                <p class="text-center"><a href="" class="btn btn-primary btn-lg" role="button" onclick="LuckyDraw();">Lucky Draw</a></p>
            </div>
        </div>

        <hr>

    </div>
    <!-- /.container -->



    <!-- BEGIN Add Presenter  Form -->
	<div class="modal fade" id="addpresenter-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" align="center">
                    <img class="img-circle" id="img_logo" src="img/BBD-SoftwareDevelopment-White.png">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <!-- Begin # DIV Form -->
                <div id="div-forms">

                    <!-- Begin # Add Presenter Form -->
                    <form id="add-form" method="post" action="scripts/insertPresenter.php">
                        <h1 style="text-align: center">Add Presenter</h1>
                        <div class="modal-body">

                            <label for="handle" class="control-label">Handle</label>
                            <input id="handle" name="handle" class="form-control" type="text" required>

                            <label for="name" class="control-label">Name</label>
                            <input id="name" name="name" class="form-control" type="text" required>

                            <label for="topic" class="control-label">Topic</label>
                            <input id="topic" name="topic" class="form-control" type="text" required>

                            <label for="start" class="control-label">Start Time and Date</label>
                            <input id="start" name="start" class="form-control" type="datetime-local" required>

                            <label for="end" class="control-label">End Time and Date</label>
                            <input id="end" name="end" class="form-control" type="datetime-local" required>
                        </div>

                        <div class="modal-footer">

                            <div>
                                <button type="submit" name="submit" class="btn btn-primary btn-lg btn-block" >Add!</button>
                            </div>

                        </div>
                    </form>
                    <!-- End # Add Presenter Form -->


                </div>
                <!-- End # DIV Form -->

            </div>
        </div>
    </div>
    <!-- END # Form -->

    <!-- BEGIN EDIT Presenter  Form -->
	<div class="modal fade" id="managepresenter-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" align="center">
                    <img class="img-circle" id="img_logo" src="img/BBD-SoftwareDevelopment-White.png">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <!-- Begin # DIV Form -->
                <div id="div-forms">

                    <!-- Begin # Add Presenter Form -->
                    <form id="update-form" method="post" action="scripts/updatePresenter.php">
                        <h1 style="text-align: center">Edit Presenters</h1>


                        <select id="presenterName" onchange = "updateValues()">
                          <option id="Presenter1Name" value="">Open Presenter Slot</option>
                          <option id="Presenter2Name" value="">Open Presenter Slot</option>
                          <option id="Presenter3Name" value="">Open Presenter Slot</option>
                        </select>


                        <input type="hidden" id="name"  name="name" value="" />
                        <input type="hidden" id="handle"  name="handle" value="" />
                        <input type="hidden" id="timeslotUpdate"  name="timeslotUpdate" value="" />

                        <div class="modal-body">

                            <label for="topic" class="control-label">Topic</label>
                            <input id="topic" value = "" name="topic" class="form-control" type="text" required>

                            <label for="start" class="control-label">Start Time and Date</label>
                            <input id="start" value = "" name="start" class="form-control" type="datetime-local" required>

                            <label for="end" class="control-label">End Time and Date</label>
                            <input id="end" value = "" name="end" class="form-control" type="datetime-local" required>
                        </div>



                        <div class="modal-footer">

                            <div>
                                <button type="submit" name="submit" class="btn btn-primary btn-lg btn-block">Update Presenter!</button>
                            </div>

                        </div>
                    </form>
                    <!-- End # Add Presenter Form -->


                </div>
                <!-- End # DIV Form -->

            </div>
        </div>
    </div>
    <!-- END # Form -->
    
	<!-- BEGIN DELETE Presenter  Form -->
	<div class="modal fade" id="deletepresenter-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" align="center">
                    <img class="img-circle" id="img_logo" src="img/BBD-SoftwareDevelopment-White.png">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </div>

                <!-- Begin # DIV Form -->
                <div id="div-forms" >
                
                    <!-- Begin # Add Presenter Form -->
                    <form id="login-form">
                        <h1 style="text-align: center">Delete Presenter</h1>
		                <div class="modal-body">
		    				<div id="div-register-msg">
                                <div class="dropdown">

                                    <button class="dropbtn"><text id="Presenter1NameOnly">Open Presenter Slot</text></button>
                                    <div class="dropdown-content">
                                        <a href="" data-dismiss="modal" id="delete">Delete</a>
                                    </div>
                                </div>
                                <div class="dropdown">

                                    <button class="dropbtn"><text id="Presenter2NameOnly">Open Presenter Slot</text></button>
                                    <div class="dropdown-content">
                                        <a href="" data-dismiss="modal" onclick="delete2();" id="delete2">Delete</a>
                                    </div>
                                </div>
                                <div class="dropdown">

                                    <button class="dropbtn"><text id="Presenter3NameOnly">Open Presenter Slot</text></button>
                                    <div class="dropdown-content">
                                        <a href="" data-dismiss="modal" onclick="delete3();" id="delete3">Delete</a>
                                    </div>
                                </div>
                            </div>
            			</div>
                    </form>
                    <!-- End # Add Presenter Form -->
                    
                </div>
                <!-- End # DIV Form -->

            </div>
        </div>
		
    </div>
	<!-- The Popup Modal -->
	<div id="popid" class="popup">

    <!-- Modal content -->
    <div class="pop-content">
        <div class="pop-header">
            <span class="popclose">&times;</span>
            <h2>Success</h2>
        </div>
    <div class="pop-body">
        <p>Successfully deleted!</p>
        </div>
    </div>
    </div>
    <!-- END # Form -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Lucky Draw Script -->
    <script type="text/javascript">
        function LuckyDraw(){
            $get("scripts/luckyDraw.php");
            return false;
        }
    </script>
    
	<!-- DELETE Presenters Scripts -->
	<script>
    function delete1() {
        $.get("scripts/deletePresenter.php");
            return false;
    }
    // Get the modal
    var modal = document.getElementById('popid');

    // Get the button that opens the modal
    var btn = document.getElementById("delete");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("popclose")[0];

    // When the user clicks the button, open the modal 
    btn.onclick = function() {
        modal.style.display = "block";
        delete1();
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
        location.reload();
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
            location.reload();
        }
    }
    </script>
    
    <script>
    function delete2() {
        $.get("scripts/deletePresenter2.php");
            return false;
    }
    // Get the modal
    var modal = document.getElementById('popid');

    // Get the button that opens the modal
    var btn2 = document.getElementById("delete2");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("popclose")[0];

    // When the user clicks the button, open the modal 
    btn2.onclick = function() {
        modal.style.display = "block";
        delete2();
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
        location.reload();
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
            location.reload();
        }
    }
    </script>
    
    <script type="text/javascript">
    function delete3() {
        $.get("scripts/deletePresenter3.php");
            return false;
    }
    // Get the modal
    var modal = document.getElementById('popid');

    // Get the button that opens the modal
    var btn2 = document.getElementById("delete3");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("popclose")[0];

    // When the user clicks the button, open the modal 
    btn2.onclick = function() {
        modal.style.display = "block";
        delete3();
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
        location.reload();
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
            location.reload();
        }
    }
    </script>
    
	<!-- Persenters -->
	<script>
	xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("PresenterName").innerHTML = myObj.HANDLE + " " + myObj.NAME;
        }
    };
    xmlhttp.open("GET", "scripts/Presenter1.php", true);
    xmlhttp.send();
	</script>

	<script>
	xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("PresenterName2").innerHTML = myObj.HANDLE + " " + myObj.NAME;
        }
    };
    xmlhttp.open("GET", "scripts/Presenter2.php", true);
    xmlhttp.send();
	</script>

	<script>
	xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("PresenterName3").innerHTML = myObj.HANDLE + " " + myObj.NAME;[1];
        }
    };
    xmlhttp.open("GET", "scripts/Presenter3.php", true);
    xmlhttp.send();
	</script>
	<!-- END -->
	
    <script >
        function updateValues()
        {
            var e = document.getElementById("presenterName");
            var strUser = e.options[e.selectedIndex].value;
            var id = strUser.split(" ")[0];
            var handle = strUser.split(" ")[1];
            var name = strUser.split(" ")[2];
            document.getElementById("timeslotUpdate").value = id.substring(0);
            document.getElementById("name").value = name;
            document.getElementById("handle").value = strUser;

        }
    </script>

    <script type="text/javascript">
        $("#presenterName").change(function(){
        $("#presenterName option:selected").text($("#presenterName").val());
        });
    </script>

    <script>
    xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            var name = myObj.NAME;
            document.getElementById("Presenter1Name").value = myObj.PRESENTERID +". " + myObj.HANDLE + " " + name;
            document.getElementById("Presenter1Name").innerHTML = myObj.PRESENTERID +". " + myObj.HANDLE + " " + name;
            document.getElementById("Presenter1NameOnly").innerHTML = name;
      }
    };
    xmlhttp.open("GET", "scripts/Presenter1.php", true);
    xmlhttp.send();
    </script>

    <script>
    xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("Presenter2Name").value = myObj.PRESENTERID +". " + myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter2Name").innerHTML = myObj.PRESENTERID +". " + myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter2NameOnly").innerHTML = myObj.NAME;

        }
    };
    xmlhttp.open("GET", "scripts/Presenter2.php", true);
    xmlhttp.send();
    </script>

    <script>
    xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var tmpStr = this.responseText;
            var newStr = tmpStr.substring(1, tmpStr .length-1);
            var myObj = JSON.parse(newStr);
            document.getElementById("Presenter3Name").value = myObj.PRESENTERID +". " + myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter3Name").innerHTML = myObj.PRESENTERID +". " + myObj.HANDLE + " " + myObj.NAME;
            document.getElementById("Presenter3NameOnly").innerHTML = myObj.NAME;

        }
    };
    xmlhttp.open("GET", "scripts/Presenter3.php", true);
    xmlhttp.send();
    </script>

</body>

</html>
